{% extends 'base.html' %}

{% block title %}Listado de Equipos Recibidos{% endblock %}

{% block content %}
<h2>Listado de Equipos Recibidos</h2>

<div class="card mt-4">
    <div class="card-body">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Cliente</th>
                    <th>Tipo de Equipo</th>
                    <th>Problema Reportado</th>
                    <th>Estado</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for equipo in equipos %}
                <tr>
                    <td>{{ equipo.cliente }}</td>
                    <td>{{ equipo.tipo_equipo }}</td> 
                    <td>{{ equipo.problema }}</td>
                    <td><span class="badge bg-primary">{{ equipo.estado }}</span></td>
                    <td>
                        
                        <a href="{% url 'detalle_equipo' equipo.cliente %}" class="btn btn-sm btn-info">Ver Detalle</a>

                        <a href="{% url 'editar_equipo' equipo.id %}" class="btn btn-warning btn-sm ms-1">Editar</a>

                        <a href="{% url 'eliminar_equipo' equipo.id %}" 
                           class="btn btn-danger btn-sm ms-1" 
                           onclick="return confirm('¿Estás seguro de que quieres eliminar este equipo?');">
                           Eliminar
                        </a>
                        
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="5" class="text-center">Aún no se han registrado equipos.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<a href="{% url 'registrar_equipo' %}" class="btn btn-success mt-3">Registrar Nuevo Equipo</a>
{% endblock %}